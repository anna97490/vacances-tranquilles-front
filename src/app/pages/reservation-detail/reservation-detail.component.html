<div>
  <!-- Bouton retour -->
  <button class="back-btn" (click)="goBack()">
    ←
  </button>
</div>


<div class="reservation-detail-container">

  <!-- Header de la page -->
  <div class="detail-header">
    <h1>Détails de la réservation</h1>
  </div>

  <!-- Message d'erreur -->
  <div *ngIf="error" class="error-message">
    {{ error }}
  </div>

  <!-- Loading spinner -->
  <div *ngIf="isLoading" class="loading-container">
    <div class="loading-spinner"></div>
    <p>Chargement des détails...</p>
  </div>

  <!-- Contenu principal -->
  <div *ngIf="!isLoading && reservation" class="detail-content">
    <!-- Carte principale de la réservation -->
    <div class="reservation-card">
      <div class="card-header">
        <div class="reservation-info">
          <h2>Réservation #{{ reservation.id }}</h2>
          <div class="status-badge" [style.color]="getStatusColor(reservation.status)">
            {{ getStatusLabel(reservation.status) }}
          </div>
        </div>
      </div>

      <div class="card-body">
        <!-- Informations du service -->
        <div class="info-section">
          <h3>Service</h3>
          <div class="info-grid">
            <div class="info-item">
              <span class="label">Nom du service:</span>
              <span class="value">{{ reservation.serviceName || 'Non spécifié' }}</span>
            </div>
            <div class="info-item">
              <span class="label">Date de réservation:</span>
              <span class="value">{{ formatDate(reservation.reservationDate) }}</span>
            </div>
            <div class="info-item">
              <span class="label">Date de début:</span>
              <span class="value">{{ formatDate(reservation.startDate) }}</span>
            </div>
            <div class="info-item">
              <span class="label">Date de fin:</span>
              <span class="value">{{ formatDate(reservation.endDate) }}</span>
            </div>
          </div>
        </div>

        <!-- Informations des participants -->
        <div class="info-section">
          <h3>Participants</h3>
          <div class="info-grid">
            <div class="info-item">
              <span class="label">Client:</span>
              <span class="value">{{ reservation.clientName || 'Non spécifié' }}</span>
            </div>
            <div class="info-item">
              <span class="label">Prestataire:</span>
              <span class="value">{{ reservation.providerName || 'Non spécifié' }}</span>
            </div>
            <div class="info-item">
              <span class="label">Propriété:</span>
              <span class="value">{{ reservation.propertyName || 'Non spécifié' }}</span>
            </div>
          </div>
        </div>

        <!-- Prix -->
        <div class="info-section">
          <h3>Prix</h3>
          <div class="price-display">
            <span class="price-amount">€ {{ formatPrice(reservation.totalPrice) }}</span>
            <span class="price-label">Prix total</span>
          </div>
        </div>

        <!-- Commentaires -->
        <div *ngIf="reservation.comments" class="info-section">
          <h3>Commentaires</h3>
          <div class="comments">
            {{ reservation.comments }}
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Message si réservation non trouvée -->
  <div *ngIf="!isLoading && !reservation && !error" class="not-found">
    <div class="not-found-content">
      <h3>Réservation non trouvée</h3>
      <p>La réservation demandée n'existe pas ou n'est plus disponible.</p>
      <button class="back-btn" (click)="goBack()">
        Retour aux réservations
      </button>
    </div>
  </div>
</div>
